<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Glass Messenger</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-theme">

    <!-- –≠–ö–†–ê–ù –í–•–û–î–ê –ò –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò -->
    <div id="auth-screen" class="auth-overlay">
        <div class="auth-card">
            <h2>–í—Ö–æ–¥ –≤ Messenger</h2>
            <input type="text" id="username" placeholder="–õ–æ–≥–∏–Ω" autocomplete="off">
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
            <div class="auth-buttons">
                <button id="loginBtn">–í–æ–π—Ç–∏</button>
                <button id="regBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø -->
    <div class="glass-app">
        <!-- –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
        <aside class="sidebar">
            <div class="sidebar-header">–ß–∞—Ç—ã</div>
            <div class="chat-list">
                <div class="chat-item active" data-user="–ê–ª–µ–∫—Å–µ–π">–ê–ª–µ–∫—Å–µ–π</div>
                <div class="chat-item" data-user="–ú–∞—Ä–∏—è">–ú–∞—Ä–∏—è</div>
                <div class="chat-item" data-user="–ü–æ–¥–¥–µ—Ä–∂–∫–∞ AI">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ AI</div>
            </div>
        </aside>

        <!-- –û–ö–ù–û –ß–ê–¢–ê -->
        <main class="chat-window" id="mainChatWindow">
            <header class="chat-header">
                <h3 id="current-chat-name">–ê–ª–µ–∫—Å–µ–π</h3>
                <div class="call-controls">
                    <button id="settingsBtn" class="icon-btn">‚öôÔ∏è</button>
                    <button id="videoCallBtn" class="icon-btn">üìπ</button>
                </div>
            </header>
            
            <div class="messages-container" id="chatBox">
                <!-- –ü—Ä–µ–≤—å—é –∑–∞–ø–∏—Å–∏ –≤–∏–¥–µ–æ-–∫—Ä—É–∂–æ—á–∫–∞ -->
                <video id="video-record-preview" autoplay muted playsinline></video>
                
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
                <div id="typing-box" class="typing-indicator">
                    <span class="dot"></span><span class="dot"></span><span class="dot"></span>
                </div>
            </div>

            <!-- –ü–ê–ù–ï–õ–¨ –í–í–û–î–ê -->
            <div class="input-bar">
                <label class="icon-btn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–æ—Ç–æ">
                    üìé<input type="file" id="imageInput" accept="image/*" style="display:none">
                </label>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –º–µ–¥–∏–∞ (–ì–°/–í–∏–¥–µ–æ) -->
                <button id="mediaBtn" class="icon-btn">üé§</button> 
                
                <input type="text" id="messageInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." autocomplete="off">
                <button id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </main>
    </div>

    <!-- –í–´–î–í–ò–ñ–ù–û–ï –ú–ï–ù–Æ –ù–ê–°–¢–†–û–ï–ö (–°–ü–†–ê–í–ê) -->
    <div id="settings-modal">
        <div class="settings-card">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
            
            <div class="settings-group">
                <p>–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</p>
                <div class="auth-buttons">
                    <button id="setLightTheme">‚ö™ –°–≤–µ—Ç–ª–∞—è</button>
                    <button id="setDarkTheme">‚ö´ –¢–µ–º–Ω–∞—è</button>
                </div>
            </div>

            <div class="settings-group">
                <p>–®—Ä–∏—Ñ—Ç —Ç–µ–∫—Å—Ç–∞</p>
                <select id="fontSelect" class="settings-select">
                    <option value="'Inter', sans-serif">Inter (–°—Ç–∞–Ω–¥–∞—Ä—Ç)</option>
                    <option value="'Arial', sans-serif">Arial</option>
                    <option value="monospace">Courier (–ü–µ—á–∞—Ç–Ω—ã–π)</option>
                    <option value="serif">Georgia (–ö–ª–∞—Å—Å–∏–∫–∞)</option>
                </select>
            </div>

            <div class="settings-group">
                <p>–û–±–æ–∏ —á–∞—Ç–∞</p>
                <input type="file" id="bgImageInput" accept="image/*">
                <button id="resetBgBtn" style="margin-top:10px; font-size:11px;">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –æ–±–æ–∏</button>
            </div>

            <button id="clearChatBtn" class="danger-btn" style="background: #ff4b2b; color: white; width: 100%; border: none; padding: 10px; border-radius: 10px; cursor: pointer; margin-top: 20px;">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
            <button id="closeSettingsBtn" class="close-btn" style="width:100%; margin-top:10px; padding: 10px; border-radius: 10px; cursor: pointer;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ö–û–ù–¢–ï–ö–°–¢–ù–û–ï –ú–ï–ù–Æ –°–û–û–ë–©–ï–ù–ò–ô -->
    <div id="context-menu" style="position: fixed; display: none; background: rgba(0,0,0,0.8); backdrop-filter: blur(15px); border-radius: 10px; z-index: 9999; border: 1px solid rgba(255,255,255,0.2); padding: 5px;">
        <div class="context-item" id="ctx-edit" style="padding: 10px 20px; color: white; cursor: pointer; border-radius: 5px;">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å</div>
        <div class="context-item" id="ctx-delete" style="padding: 10px 20px; color: #ff4b2b; cursor: pointer; border-radius: 5px;">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</div>
    </div>

    <!-- –ò–ù–¢–ï–†–§–ï–ô–° –í–ò–î–ï–û–ó–í–û–ù–ö–ê -->
    <div id="call-interface" class="call-overlay" style="display: none;">
        <div class="call-card">
            <video id="remoteVideo" autoplay playsinline></video>
            <div class="remote-name" id="calling-user-name">–ó–≤–æ–Ω–æ–∫...</div>
            <video id="localVideo" autoplay playsinline muted></video>
            <div class="call-actions">
                <button id="toggleMic" class="call-btn">üé§</button>
                <button id="toggleCam" class="call-btn">üì∑</button>
                <button id="shareScreenBtn" class="call-btn">üñ•Ô∏è</button>
                <button id="endCallBtn" class="call-btn hangup">üìû</button>
            </div>
        </div>
    </div>

    <!-- –í–ê–ñ–ù–û: –ü–û–†–Ø–î–û–ö –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø FIREBASE -->
    <script src="https://www.gstatic.com"></script>
    <script src="https://www.gstatic.com"></script>
    <script src="https://www.gstatic.com"></script>

    <!-- –¢–í–û–ô –°–ö–†–ò–ü–¢ –í–°–ï–ì–î–ê –ü–û–°–õ–ï–î–ù–ò–ô -->
    <script src="script.js"></script>
</body>
</html>
